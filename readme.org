#+Title: DHBB 

* Split meta from text

Para debugar 

#+BEGIN_SRC sh
egrep -c "^---$" *.text | awk -F : '$2 == 1 { print }'
#+END_SRC

Para separar arquivos já limpos em um diretório:

#+BEGIN_SRC sh
for f in $(egrep '^cargos:' *.text | awk -F ':' '{ print $1 }'); do cp $f test/; done
#+END_SRC

Para separar textos:

#+BEGIN_SRC sh
  for f in *.text; do
      awk 'BEGIN { text=0; } text>1 {print} /^---$/ { text = text + 1; }' $f > $(basename $f .text).raw ;
  done
#+END_SRC

Para separar metadados:

#+BEGIN_SRC sh
  for f in *.text; do
      awk 'BEGIN { text=0; } text<=1 {print} /^---$/ { text = text + 1; }' $f > $(basename $f .text).meta ;
  done
#+END_SRC

* Executing Freeling

Using =screen=:

#+BEGIN_SRC sh
analyze -f pt.cfg --server --port 50005
ls *.raw > lixo
cat lixo | parallel -j 3 --results out analyzer_client 50005
#+END_SRC

* Metadados

Verificando padronização dos campos nos metadados:

#+BEGIN_SRC lisp
  (ql:quickload :cl-yaml)
  (ql:quickload :alexandria)
  (let ((metas (make-hash-table :test #'equal)))
    (loop for file in (directory "*.meta")
          do (loop for meta being the hash-keys in (cl-yaml:parse file)
                   do (push (file-namestring file) (gethash meta metas))))
    (alexandria:hash-table-alist metas))
#+END_SRC

* Files

This dictionary has seven directories: 

- html :: Holds the original html files for each dictionary entry.

- md :: Holds the markdown files from of each html file entry.

- ref :: Holds the reference text in each dictionary entry.

- freeling :: dat files with the output of FreeLing 4 (no parser yet).

- text :: Holds the text body in each dictionary entry.

* Links

- http://pyyaml.org/wiki/PyYAMLDocumentation
- http://www.w3.org/TR/rdf-sparql-query/


